<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>memo</title>
</head>
<body>


<table>
    <p>
        压力测试<br/>
        1. 程序启动，没有报名的情况，分析CPU 内存
        2. 用脚本每秒100个报名，同时渐渐加大，
        3. 测试 基础功能
            (1) N人组团
            (2) N VS N 组团

    </p>

</table>


2021-07-13
<table>
    <p>
        BUG修复：丢数据，实际是5V5匹配的时候，计算重复，导致多删了redis里一条数据<br/>
    </p>
</table>


2021-07-8
<table>
    <p>
        关于：匹配服务  的文档<br/>
        调优redis连接池，放大最大活跃数，增加空闲连接数（太小造成一直创建新连接），删除一些注释<br/>
        报名时外部的groupId做了判定：如果重复不允许报名<br/>
        测试工具：<br/>
            1. HTTP接收匹配服务推送的消息<br/>
            2. 批量报名<br/>
        修复BUG：在匹配计算时，从队列里取出来的groupIndex，但是计算失败后，没有重复塞回去，导致redis数据不一致。<br/>
        更新了一下交互流程图<br/>
        优化了一些注释 及日志<br/>
    </p>
</table>


2021-06-25
<table>
    <p>
        原gamematch是包，使用方，还得再开一个项目调用此包，现改为：就一个项目包含所有，不以单包形式了<br/>
        指令行启动时，给的动态参数，换成新的方法<br/>
        service类增加shutdown方法，注销掉本服务的：cancelFunc :动态注册、watch  <br/>
        etcd类增加shutdown方法，关闭所有注册的watch，断开连接<br/>
        整理下无用的日志输出，原守护协程的每秒输出日志，改为10秒输出一次<br/>
        原开启一个协程用的是统一方式myGoroutine.CreateExec，现改成GO原生调用<br/>
        DemonSignal信号守护协程由gamematch类中执行改由main中执行<Br/>
        帧同步时把基类log改了不少，gamematch得兼容下<br/>
        重写Metrics类<br/>
        etcd类有不少exprint函数，改成return error<Br/>
        service类有不少exprint函数，改成return error<Br/>
        gamematch增加变量：signalChanRWLock，同时signalChan的map加锁，防止并发IO<br/>
        使用新的AppManager<br/>
        httpd由手写静态文件访问，改成 动态读取文件夹列表自动读取文件<br/>
    </p>
</table>

</body>
</html>