/*! 
 Build based on gin-vue-admin 
 Time : 1654839022000 */
import{b as e}from"./gin-vue-admin-stringFun.1654839022000.js";import{k as l}from"./gin-vue-admin-autoCode.1654839022000.js";import{_ as a,a as o,b as u,o as n,c as t,d as s,e as d,w as p,q as r,F as m,z as c,f as i,h as V,i as y,X as b,y as f,ag as h,ah as k}from"../gva/gin-vue-admin-index.1654839022000.js";const v={class:"gva-table-box"},g=V("创建");var U=a({__name:"autoPlug",setup(a){const V=o({plugName:"",routerGroup:"",hasGlobal:!0,hasRequest:!0,hasResponse:!0,global:[{key:"",type:"",desc:""}],request:[{key:"",type:"",desc:""}],response:[{key:"",type:"",desc:""}]}),U=()=>{V.plugName=e(V.plugName)},_=()=>{return e=this,a=null,o=function*(){V.plugName&&V.routerGroup?V.hasGlobal&&V.global.some((e=>{if(!e.key||!e.type)return!0}))?y.error("全局属性的key和type为必填项"):V.hasRequest&&V.request.some((e=>{if(!e.key||!e.type)return!0}))?y.error("请求属性的key和type为必填项"):V.hasResponse&&V.response.some((e=>{if(!e.key||!e.type)return!0}))?y.error("响应属性的key和type为必填项"):0===(yield l(V)).code&&b("创建成功，插件已自动写入后端plugin目录下，请按照自己的逻辑进行创造"):y.error("插件名称和插件路由组为必填项")},new Promise(((l,u)=>{var n=e=>{try{s(o.next(e))}catch(l){u(l)}},t=e=>{try{s(o.throw(e))}catch(l){u(l)}},s=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,t);s((o=o.apply(e,a)).next())}));var e,a,o},R=e=>{e.push({key:"",value:""})},q=(e,l)=>{1!==e.length?e.splice(l,1):y.warning("至少有一个全局属性")};return(e,l)=>{const a=u("el-input"),o=u("el-form-item"),y=u("el-checkbox"),b=u("el-option"),C=u("el-select"),G=u("el-button"),w=u("el-form");return n(),t("div",null,[s("div",v,[d(w,{"label-width":"140px",class:"plug-form"},{default:p((()=>[d(o,{label:"插件名"},{default:p((()=>[d(a,{modelValue:V.plugName,"onUpdate:modelValue":l[0]||(l[0]=e=>V.plugName=e),placeholder:"必填（英文大写字母开头）",onBlur:U},null,8,["modelValue"])])),_:1}),d(o,{label:"路由组"},{default:p((()=>[d(a,{modelValue:V.routerGroup,"onUpdate:modelValue":l[1]||(l[1]=e=>V.routerGroup=e),placeholder:"将会作为插件路由组使用"},null,8,["modelValue"])])),_:1}),d(o,{label:"使用全局属性"},{default:p((()=>[d(y,{modelValue:V.hasGlobal,"onUpdate:modelValue":l[2]||(l[2]=e=>V.hasGlobal=e)},null,8,["modelValue"])])),_:1}),V.hasGlobal?(n(),r(o,{key:0,label:"全局属性"},{default:p((()=>[(n(!0),t(m,null,c(V.global,((e,o)=>(n(),t("div",{key:o,class:"plug-row"},[s("span",null,[d(a,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[d(C,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:p((()=>[d(b,{label:"string",value:"string"}),d(b,{label:"int",value:"int"}),d(b,{label:"float32",value:"float32"}),d(b,{label:"float64",value:"float64"}),d(b,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("span",null,[d(a,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[d(G,{icon:f(h),circle:"",onClick:l[3]||(l[3]=e=>R(V.global))},null,8,["icon"])]),s("span",null,[d(G,{icon:f(k),circle:"",onClick:e=>q(V.global,o)},null,8,["icon","onClick"])])])))),128))])),_:1})):i("",!0),d(o,{label:"使用Request"},{default:p((()=>[d(y,{modelValue:V.hasRequest,"onUpdate:modelValue":l[4]||(l[4]=e=>V.hasRequest=e)},null,8,["modelValue"])])),_:1}),V.hasRequest?(n(),r(o,{key:1,label:"Request"},{default:p((()=>[(n(!0),t(m,null,c(V.request,((e,o)=>(n(),t("div",{key:o,class:"plug-row"},[s("span",null,[d(a,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[d(C,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:p((()=>[d(b,{label:"string",value:"string"}),d(b,{label:"int",value:"int"}),d(b,{label:"float32",value:"float32"}),d(b,{label:"float64",value:"float64"}),d(b,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("span",null,[d(a,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[d(G,{icon:f(h),circle:"",onClick:l[5]||(l[5]=e=>R(V.request))},null,8,["icon"])]),s("span",null,[d(G,{icon:f(k),circle:"",onClick:e=>q(V.request,o)},null,8,["icon","onClick"])])])))),128))])),_:1})):i("",!0),d(o,{label:"使用Response"},{default:p((()=>[d(y,{modelValue:V.hasResponse,"onUpdate:modelValue":l[6]||(l[6]=e=>V.hasResponse=e)},null,8,["modelValue"])])),_:1}),V.hasResponse?(n(),r(o,{key:2,label:"Response"},{default:p((()=>[(n(!0),t(m,null,c(V.response,((e,o)=>(n(),t("div",{key:o,class:"plug-row"},[s("span",null,[d(a,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[d(C,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:p((()=>[d(b,{label:"string",value:"string"}),d(b,{label:"int",value:"int"}),d(b,{label:"float32",value:"float32"}),d(b,{label:"float64",value:"float64"}),d(b,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),s("span",null,[d(a,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注"},null,8,["modelValue","onUpdate:modelValue"])]),s("span",null,[d(G,{icon:f(h),circle:"",onClick:l[7]||(l[7]=e=>R(V.response))},null,8,["icon"])]),s("span",null,[d(G,{icon:f(k),circle:"",onClick:e=>q(V.response,o)},null,8,["icon","onClick"])])])))),128))])),_:1})):i("",!0),d(o,null,{default:p((()=>[d(G,{type:"primary",onClick:_},{default:p((()=>[g])),_:1})])),_:1})])),_:1})])])}}},[["__scopeId","data-v-50bdca40"]]);export{U as default};
