/*! 
 Build based on gin-vue-admin 
 Time : 1654839022000 */
import{a as e,t as l}from"./gin-vue-admin-stringFun.1654839022000.js";import{g as a}from"./gin-vue-admin-sysDictionary.1654839022000.js";import{W as u}from"./gin-vue-admin-warningBar.1654839022000.js";import{r as d,b as o,o as t,c as i,e as n,w as r,F as m,z as p,h as s,q as f}from"../gva/gin-vue-admin-index.1654839022000.js";const v=s("自动填充"),c={name:"FieldDialog"},b=Object.assign(c,{props:{dialogMiddle:{type:Object,default:function(){return{}}}},setup(s,{expose:c}){const b=s,g=d({}),y=d([]),V=d([{label:"=",value:"="},{label:"<>",value:"<>"},{label:">",value:">"},{label:"<",value:"<"},{label:"LIKE",value:"LIKE"}]),h=d([{label:"字符串",value:"string"},{label:"整型",value:"int"},{label:"布尔值",value:"bool"},{label:"浮点型",value:"float64"},{label:"时间",value:"time.Time"},{label:"枚举",value:"enum"}]),T=d({fieldName:[{required:!0,message:"请输入field英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入field中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入field格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择field数据类型",trigger:"blur"}]});(()=>{return e=this,l=null,u=function*(){g.value=b.dialogMiddle;const e=yield a({page:1,pageSize:999999});y.value=e.data.list},new Promise(((a,d)=>{var o=e=>{try{i(u.next(e))}catch(l){d(l)}},t=e=>{try{i(u.throw(e))}catch(l){d(l)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,t);i((u=u.apply(e,l)).next())}));var e,l,u})();const _=()=>{g.value.fieldJson=e(g.value.fieldName),g.value.columnName=l(g.value.fieldJson)},F=()=>{g.value.fieldSearchType="",g.value.dictType=""},N=d(null);return c({fieldDialogFrom:N}),(e,l)=>{const a=o("el-input"),d=o("el-button"),s=o("el-form-item"),c=o("el-option"),b=o("el-select"),w=o("el-form");return t(),i("div",null,[n(u,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),n(w,{ref_key:"fieldDialogFrom",ref:N,model:g.value,"label-width":"120px","label-position":"left",rules:T.value},{default:r((()=>[n(s,{label:"Field名称",prop:"fieldName"},{default:r((()=>[n(a,{modelValue:g.value.fieldName,"onUpdate:modelValue":l[0]||(l[0]=e=>g.value.fieldName=e),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),n(d,{size:"small",style:{width:"18%","margin-left":"2%"},onClick:_},{default:r((()=>[v])),_:1})])),_:1}),n(s,{label:"Field中文名",prop:"fieldDesc"},{default:r((()=>[n(a,{modelValue:g.value.fieldDesc,"onUpdate:modelValue":l[1]||(l[1]=e=>g.value.fieldDesc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(s,{label:"FieldJSON",prop:"fieldJson"},{default:r((()=>[n(a,{modelValue:g.value.fieldJson,"onUpdate:modelValue":l[2]||(l[2]=e=>g.value.fieldJson=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(s,{label:"数据库字段名",prop:"columnName"},{default:r((()=>[n(a,{modelValue:g.value.columnName,"onUpdate:modelValue":l[3]||(l[3]=e=>g.value.columnName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(s,{label:"数据库字段描述",prop:"comment"},{default:r((()=>[n(a,{modelValue:g.value.comment,"onUpdate:modelValue":l[4]||(l[4]=e=>g.value.comment=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(s,{label:"Field数据类型",prop:"fieldType"},{default:r((()=>[n(b,{modelValue:g.value.fieldType,"onUpdate:modelValue":l[5]||(l[5]=e=>g.value.fieldType=e),style:{width:"100%"},placeholder:"请选择field数据类型",clearable:"",onChange:F},{default:r((()=>[(t(!0),i(m,null,p(h.value,(e=>(t(),f(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(s,{label:"enum"===g.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:r((()=>[n(a,{modelValue:g.value.dataTypeLong,"onUpdate:modelValue":l[6]||(l[6]=e=>g.value.dataTypeLong=e),placeholder:"数据库类型长度"},null,8,["modelValue"])])),_:1},8,["label"]),n(s,{label:"Field查询条件",prop:"fieldSearchType"},{default:r((()=>[n(b,{modelValue:g.value.fieldSearchType,"onUpdate:modelValue":l[7]||(l[7]=e=>g.value.fieldSearchType=e),style:{width:"100%"},placeholder:"请选择Field查询条件",clearable:""},{default:r((()=>[(t(!0),i(m,null,p(V.value,(e=>(t(),f(c,{key:e.value,label:e.label,value:e.value,disabled:"string"!==g.value.fieldType&&"LIKE"===e.value},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(s,{label:"关联字典",prop:"dictType"},{default:r((()=>[n(b,{modelValue:g.value.dictType,"onUpdate:modelValue":l[8]||(l[8]=e=>g.value.dictType=e),style:{width:"100%"},disabled:"int"!==g.value.fieldType,placeholder:"请选择字典",clearable:""},{default:r((()=>[(t(!0),i(m,null,p(y.value,(e=>(t(),f(c,{key:e.type,label:`${e.type}(${e.name})`,value:e.type},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1})])),_:1},8,["model","rules"])])}}});export{b as default};
